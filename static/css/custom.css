/* -----------------------------------------------------------
   BOS Lakshya – App Shell + UI Kit
   Polished visuals, better spacing, dark mode, and responsiveness
   (No HTML changes required)
----------------------------------------------------------- */

/* ============ DESIGN TOKENS ============ */
:root {
  /* Layout */
  --header-h: 60px;
  --sidebar-w: 260px;

  /* Brand */
  --brand: #2563eb;
  --brand-600: #2563eb;
  --brand-700: #1d4ed8;
  --brand-200: #bfdbfe;

  /* Surfaces */
  --bg: #f7f9fc;
  --surface: #ffffff;
  --surface-alt: #f9fafb;

  /* Text & Border */
  --text: #0f172a;
  --muted: #64748b;
  --border: #e5e7eb;

  /* Effects */
  --radius: 12px;
  --radius-sm: 8px;
  --shadow-1: 0 1px 2px rgba(2, 8, 23, .06), 0 1px 4px rgba(2, 8, 23, .06);
  --shadow-2: 0 10px 30px rgba(2, 8, 23, .12);

  /* Badges */
  --badge-bg: #eef2ff;
  --badge-text: #1e40af;

  /* Sidebar */
  --sidebar-bg: #ffffff;
  --sidebar-text: #6b7280;
  --sidebar-active: var(--brand-600);
  --sidebar-hover: #f3f4f6;

  /* Misc */
  --focus: 2px solid #93c5fd;
}

/* Dark mode */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0b1020;
    --surface: #0d1326;
    --surface-alt: #0a1022;

    --text: #e5e7eb;
    --muted: #9ca3af;
    --border: #1f2937;

    --sidebar-bg: #0d1326;
    --sidebar-text: #a3a9b7;
    --sidebar-hover: #0f1731;

    --badge-bg: rgba(59, 130, 246, .15);
    --badge-text: #bfdbfe;

    --shadow-1: 0 1px 2px rgba(0,0,0,.45);
    --shadow-2: 0 10px 30px rgba(0,0,0,.6);
  }
}

/* ============ GLOBAL RESETS ============ */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}
a { color: inherit; text-decoration: none; }
a:hover { text-decoration: none; }
img { max-width: 100%; display: block; }

/* Accessible focus */
:focus-visible { outline: var(--focus); outline-offset: 2px; border-radius: 8px; }

/* ============ HEADER ============ */
.top-header {
  height: var(--header-h);
  position: fixed;
  inset: 0 0 auto 0;
  z-index: 1000;

  display: flex;
  align-items: center;
  justify-content: space-between;

  padding: 0 .9rem 0 1rem;
  background: linear-gradient(180deg, var(--brand-600), var(--brand-700));
  color: #fff;
  box-shadow: var(--shadow-2);
  border-bottom: 1px solid rgba(255,255,255,.18);
}
.logo-section {
  display: flex; align-items: center; gap: .7rem;
  font-weight: 700; letter-spacing: .2px; font-size: 1.05rem;
}
.logo-icon {
  width: 36px; height: 36px; border-radius: 10px;
  display: grid; place-items: center; background: rgba(255,255,255,.16);
  color: #fff; font-weight: 700;
}
.header-right { display: flex; align-items: center; gap: .7rem; }
.header-select {
  min-width: 160px;
  background: rgba(255,255,255,.14);
  color: #fff; border: 1px solid rgba(255,255,255,.32);
  padding: .45rem .8rem; border-radius: 10px; font-size: .88rem;
}
.header-select option { background: #0f172a; color: #fff; }
.user-info { display: flex; align-items: center; gap: .5rem; font-size: .9rem; }
.mobile-toggle { display: none; background: none; border: 0; color: #fff; font-size: 1.15rem; cursor: pointer; }

/* Logout button */
.logout-btn {
  background: #fff; color: var(--brand-700);
  border: 1px solid #fff; border-radius: 10px;
  font-weight: 600; font-size: .88rem; padding: .45rem .9rem;
  box-shadow: var(--shadow-1);
}
.logout-btn:hover { background: #f8fafc; }

/* ============ SIDEBAR ============ */
.sidebar {
  position: fixed; top: var(--header-h); left: 0;
  width: var(--sidebar-w); height: calc(100vh - var(--header-h));
  z-index: 900; overflow-y: auto;
  background: var(--sidebar-bg); border-right: 1px solid var(--border);
  box-shadow: var(--shadow-1);
  transform: translateZ(0); /* smooth scrolling */
  transition: transform .25s ease;
}
.sidebar.collapsed { transform: translateX(-100%); }
.sidebar-menu { padding: 1rem 0; }

.menu-item {
  display: block; width: 100%; text-align: left;
  background: none; border: none; cursor: pointer;

  padding: .75rem 1rem; margin: .18rem .75rem;
  border-radius: 10px; color: var(--sidebar-text);
  font-weight: 600; font-size: .93rem;

  transition: background .2s ease, color .2s ease, transform .15s ease;
}
.menu-item i { width: 18px; margin-right: .6rem; }
.menu-item:hover { background: #eef2ff; color: var(--brand-600); transform: translateX(2px); }
.menu-item.active,
.menu-item[aria-current="page"] {
  background: #e7efff; color: var(--brand-600);
  border-left: 3px solid var(--brand-600);
  padding-left: calc(1rem - 3px);
}
.menu-item .fa-chevron-down { float: right; margin-left: auto; font-size: .75rem; transition: transform .2s ease; }

.submenu { display: none; margin: .2rem .6rem .6rem 1.1rem; border-left: 2px solid var(--border); padding: .25rem 0; }
.submenu .menu-item { margin: .1rem .25rem; padding: .6rem 1rem; font-weight: 500; font-size: .9rem; }

/* Custom scrollbar */
.sidebar::-webkit-scrollbar { width: 6px; }
.sidebar::-webkit-scrollbar-track { background: transparent; }
.sidebar::-webkit-scrollbar-thumb { background: #c1c7d2; border-radius: 3px; }
.sidebar::-webkit-scrollbar-thumb:hover { background: #aab1bf; }

/* ============ MAIN AREA ============ */
.main-content {
  margin-left: var(--sidebar-w);
  margin-top: var(--header-h);
  min-height: calc(100vh - var(--header-h));
  padding: 1.5rem;
  transition: margin-left .25s ease;
}
.main-content.expanded { margin-left: 0; }

/* Cards */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-1);
}
.card-header {
  background: var(--surface-alt);
  border-bottom: 1px solid var(--border);
  padding: .8rem 1rem;
  font-weight: 700;
}

/* Buttons */
.btn-primary {
  background: var(--brand-600);
  border-color: var(--brand-600);
  border-radius: 10px;
  font-weight: 600; font-size: .9rem;
  padding: .45rem 1.05rem; box-shadow: var(--shadow-1);
}
.btn-primary:hover { background: var(--brand-700); border-color: var(--brand-700); }
.btn-outline-secondary { border-radius: 10px; font-size: .9rem; }

/* Small pill buttons (tabs on dashboard) */
.btn-pill {
  border-radius: 9999px !important;
  padding: .4rem .9rem !important;
  font-weight: 700 !important;
}
.btn-pill .badge {
  margin-left: .4rem; font-weight: 700;
  background: var(--badge-bg); color: var(--badge-text);
  border: 1px solid rgba(99,102,241,.15);
}

/* Badges (status chips) */
.badge {
  border-radius: 9999px;
  padding: .3rem .6rem;
  font-weight: 700;
  letter-spacing: .2px;
}

/* Tables: comfortable, responsive scrolling */
.table-wrap { width: 100%; overflow-x: auto; }
.table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}
.table thead th {
  position: sticky; top: 0; z-index: 1;
  background: var(--surface-alt);
  border-bottom: 1px solid var(--border);
  padding: .7rem .75rem;
}
.table tbody td {
  padding: .75rem .75rem;
  border-top: 1px solid var(--border);
}
.table tr:hover td { background: rgba(59,130,246,.04); }
.table .text-muted { color: var(--muted) !important; }

/* Selected row highlight (used by JS bulk tool) */
tr.is-selected > td {
  background: rgba(59,130,246,.10) !important;
  box-shadow: inset 3px 0 0 0 var(--brand-600);
}
tr.is-dim > td { opacity: .65; }

/* A tiny checkbox column helper, if needed */
th.col-check, td.col-check { width: 36px; }

/* Alerts */
.alert {
  border-radius: 10px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow-1);
}
.alert-info { background: #eef4ff; }
@media (prefers-color-scheme: dark) {
  .alert-info { background: rgba(148,163,184,.18); color: var(--text); }
}

/* Footer */
footer {
  background: var(--surface);
  color: var(--muted);
  border-top: 1px solid var(--border);
  text-align: center;
  padding: 1rem;
  margin-top: 1.25rem;
}

/* Overlay for mobile sidebar */
.sidebar-overlay {
  display: none;
  position: fixed; top: var(--header-h); left: 0;
  width: 100vw; height: calc(100vh - var(--header-h));
  background: rgba(2,8,23,.28);
  z-index: 899;
}
.sidebar.show ~ .sidebar-overlay, .sidebar-overlay.show { display: block; }

/* ============ RESPONSIVE TWEAKS ============ */
@media (max-width: 1024px) {
  :root { --sidebar-w: 240px; }
}

@media (max-width: 768px) {
  .mobile-toggle { display: inline-block; }
  .header-select { display: none; }
  .user-info span:first-child { display: none; }

  .sidebar { transform: translateX(-100%); }
  .sidebar.show { transform: translateX(0); }

  .main-content { margin-left: 0; padding: 1rem; }
  .card-header { padding: .7rem .85rem; }
  .btn, .btn-primary, .btn-outline-secondary { font-size: .88rem; }

  /* Mobile-friendly “cards” table layout */
  .table thead { display: none; }
  .table tbody tr { display: grid; grid-template-columns: 1fr 1fr; gap: .25rem .75rem; padding: .6rem .5rem; border-top: 1px solid var(--border); }
  .table tbody td {
    display: flex; align-items: center; gap: .5rem;
    padding: .35rem 0;
    border: none;
  }
  .table tbody td::before {
    content: attr(data-label);
    min-width: 110px;
    color: var(--muted);
    font-weight: 600;
  }
}

/* Utility helpers used across templates */
.muted { color: var(--muted); }
.rounded-10 { border-radius: 10px; }
.shadow-1 { box-shadow: var(--shadow-1); }
.shadow-2 { box-shadow: var(--shadow-2); }

/* Optional mini-toolbar for bulk forms */
.bulk-toolbar {
  display: flex; align-items: center; gap: .5rem; flex-wrap: wrap;
}
.bulk-chip {
  background: var(--surface-alt);
  border: 1px solid var(--border);
  border-radius: 9999px;
  padding: .25rem .6rem;
  font-weight: 700; color: var(--brand-700);
}
